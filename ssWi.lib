https://os.mbed.com/users/mariob/code/ssWi/#8dc7a24ff42932ed3ab65c8e6cb0e6a4cfd3d9fd